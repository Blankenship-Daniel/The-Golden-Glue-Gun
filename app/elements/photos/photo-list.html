<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/iron-ajax/iron-ajax.html">

<dom-module id="photo-list">
  <template>
    <style>
      :host {
        display: block;
      }

      #photos {
        /* Prevent vertical gaps */
        line-height: 0;
        -webkit-column-count: 5;
        -webkit-column-gap: 0px;
        -moz-column-count: 5;
        -moz-column-gap: 0px;
        column-count: 5;
        column-gap: 0px;
      }

      #photos img {
        width: 100% !important;
        height: auto !important;
        margin: 5px;
        @include box-shadow(2px 2px 9px 0px rgba(0, 0, 0, 0.28));
      }

      @media (max-width: 1200px) {
        #photos {
          -moz-column-count: 4;
          -webkit-column-count: 4;
          column-count: 4;
        }
      }

      @media (max-width: 1000px) {
        #photos {
          -moz-column-count: 3;
          -webkit-column-count: 3;
          column-count: 3;
        }
      }

      @media (max-width: 800px) {
        #photos {
          -moz-column-count: 2;
          -webkit-column-count: 2;
          column-count: 2;
        }
      }

      @media (max-width: 400px) {
        #photos {
          -moz-column-count: 1;
          -webkit-column-count: 1;
          column-count: 1;
        }
      }
    </style>

    <iron-ajax auto url="../../storage/storage.json" handle-as="json" last-response="{{ json }}">
    </iron-ajax>

    <div id="photos">
      <template is="dom-repeat" items="{{ json.images }}">
        <img src="{{ item.src }}" alt="{{ item.alt }}">
      </template>
    </div>

  </template>
  <script>
    (function() {
      'use strict';

      Polymer({
        is: 'photo-list'
      });
    })();
  </script>
</dom-module>
