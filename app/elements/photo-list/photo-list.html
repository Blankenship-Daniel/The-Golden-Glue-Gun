<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/iron-ajax/iron-ajax.html">
<link rel="import" href="../../bower_components/polymerfire/polymerfire.html">

<dom-module id="photo-list">
  <template>
    <style>
      #photos {
        /* Prevent vertical gaps */
        line-height: 0;
        -webkit-column-count: 5;
        -webkit-column-gap: 0px;
        -moz-column-count: 5;
        -moz-column-gap: 0px;
        column-count: 5;
        column-gap: 0px;
      }

      #photos img {
        /* Just in case there are inline attributes */
        width: 100% !important;
        height: auto !important;
        padding: 10px;
      }

      @media (max-width: 1200px) {
        #photos {
          -moz-column-count: 4;
          -webkit-column-count: 4;
          column-count: 4;
        }
      }

      @media (max-width: 1000px) {
        #photos {
          -moz-column-count: 3;
          -webkit-column-count: 3;
          column-count: 3;
        }
      }

      @media (max-width: 800px) {
        #photos {
          -moz-column-count: 2;
          -webkit-column-count: 2;
          column-count: 2;
        }
      }

      @media (max-width: 400px) {
        #photos {
          -moz-column-count: 1;
          -webkit-column-count: 1;
          column-count: 1;
        }
      }
    </style>

    <firebase-app
      id="app"
      name="the-golden-glue-gun"
      auth-domain="the-golden-glue-gun.firebaseapp.com"
      database-url="https://the-golden-glue-gun.firebaseio.com/"
      api-key="AIzaSyApBp-EozE84eK1bj_0vgFfvuYNm0Y94WY">
    </firebase-app>

    <firebase-document
        id="document"
        app-name="the-golden-glue-gun"
        path="/images"
        data="{{ images }}">
    </firebase-document>

    <section id="photos">
      <template is="dom-repeat" items="{{ images }}">
        <img src="../../images/{{ item.src }}" alt="{{ item.alt }}">
      </template>
    </section>

  </template>
  <script>
    (function() {
      'use strict';

      Polymer({
        is: 'photo-list',

        _print: function(obj) {
            console.log(JSON.stringify(obj));
        },

        _toArray: function(obj) {
            return Object.keys(obj).map(function(key) {
                return {
                    name: key,
                    value: obj[key]
                };
            });
        }
      });
    })();
  </script>
</dom-module>
