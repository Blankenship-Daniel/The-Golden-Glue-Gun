<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/iron-ajax/iron-ajax.html">
<link rel="import" href="../../bower_components/polymerfire/polymerfire.html">
<link rel="import" href="../../bower_components/iron-icons/iron-icons.html">


<dom-module id="photo-list">
  <template>
    <style>
      #photos {
        /* Prevent vertical gaps */
        line-height: 0;
        -webkit-column-count: 5;
        -webkit-column-gap: 0px;
        -moz-column-count: 5;
        -moz-column-gap: 0px;
        column-count: 5;
        column-gap: 0px;
      }

      #photos img {
        /* Just in case there are inline attributes */
        width: 100% !important;
        height: auto !important;
      }

      .photo-wrapper {
        position: relative;
        padding: 3px;
      }

      .photo-wrapper:hover {
        padding: 10px;
      }

      .photo-wrapper:hover:before {
        content: '';
        position: absolute;
        width: 100%;
        height: 100%;
        top: 0;
        left: 0;
        background: rgba(255, 193, 7, .7);
        cursor: pointer;
      }

      .photo-wrapper:hover> .zoom-in-icon {
        visibility: visible;
      }

      .zoom-in-icon {
        visibility: hidden;
        position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
        margin: auto;
        --iron-icon-fill-color: #fff;
        --iron-icon-height: 80px;
        --iron-icon-width: 80px;
      }

      .zoom-in-icon:hover {
        cursor: pointer;
      }

      @media (max-width: 1000px) {
        #photos {
          -moz-column-count: 3;
          -webkit-column-count: 3;
          column-count: 3;
        }
        .zoom-in-icon {
          --iron-icon-height: 60px;
          --iron-icon-width: 60px;
        }
      }

      @media (max-width: 600px) {
        #photos {
          -moz-column-count: 1;
          -webkit-column-count: 1;
          column-count: 1;
        }
        .zoom-in-icon {
          --iron-icon-height: 40px;
          --iron-icon-width: 40px;
        }
      }
    </style>

    <firebase-app id="app" name="the-golden-glue-gun" auth-domain="the-golden-glue-gun.firebaseapp.com" database-url="https://the-golden-glue-gun.firebaseio.com/" api-key="AIzaSyApBp-EozE84eK1bj_0vgFfvuYNm0Y94WY">
    </firebase-app>

    <firebase-document id="document" app-name="the-golden-glue-gun" path="/images" data="{{ images }}">
    </firebase-document>

    <section id="photos">
      <template is="dom-repeat" items="{{ images }}">
        <div class="photo-wrapper">
          <iron-icon class="zoom-in-icon" icon="zoom-in"></iron-icon>
          <img src="../../images/{{ item.src }}" alt="{{ item.alt }}">
        </div>
      </template>
    </section>

  </template>
  <script>
    (function() {
      'use strict';

      Polymer({
        is: 'photo-list',

        _print: function(obj) {
          console.log(JSON.stringify(obj));
        },

        _toArray: function(obj) {
          return Object.keys(obj).map(function(key) {
            return {
              name: key,
              value: obj[key]
            };
          });
        }
      });
    })();
  </script>
</dom-module>
</script>
</dom-module>
</script>
</dom-module>
dule>
